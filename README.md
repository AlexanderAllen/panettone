[![Latest Stable Version](https://poser.pugx.org/alexanderallen/panettone/v)](https://packagist.org/packages/alexanderallen/panettone) [![Latest Unstable Version](https://poser.pugx.org/alexanderallen/panettone/v/unstable)](https://packagist.org/packages/alexanderallen/panettone) [![License](https://poser.pugx.org/alexanderallen/panettone/license)](https://packagist.org/packages/alexanderallen/panettone) ![Coveralls](https://img.shields.io/coverallsCoverage/github/AlexanderAllen/panettone?style=flat&logo=coveralls&link=https%3A%2F%2Fcoveralls.io%2Fgithub%2FAlexanderAllen%2Fpanettone) ![GitHub Actions Workflow Status](https://img.shields.io/github/actions/workflow/status/AlexanderAllen/panettone/php.yml)

# Panettone

Panettone is a CLI tool for extracting PHP types from [Open API](https://swagger.io/docs/specification/about/) schemas. Types are generated by interpreting the [data model](https://swagger.io/docs/specification/data-models/) (schema) of Open API documents. Unlike Api Platform's [schema generator](https://packagist.org/packages/api-platform/schema-generator), it does not determine types using [path and operations](https://swagger.io/docs/specification/paths-and-operations/).


## Usage

    ‚ùØ php bin/panettone --help
    Description:
    Generate PHP types.

    Usage:
    panettone <source> [<config>]

    Arguments:
    source                Open API YAML source
    config                Path to .ini configuration file

    Options:
    -h, --help            Display help for the given command. When no command is given display help for the panettone:bake command
    -q, --quiet           Do not output any message
    -V, --version         Display this application version
        --ansi|--no-ansi  Force (or disable --no-ansi) ANSI output
    -n, --no-interaction  Do not ask any interactive question
    -v|vv|vvv, --verbose  Increase the verbosity of messages: 1 for normal output, 2 for more verbose output and 3 for debug

    Help:
    Generates PHP types from a Open API source.

## Configuration

Panettone is configured by placing a `settings.ini` in the directory from where you are executing Panettone, usually where your `composer.json` is.

Below is a list of the currently supported configuration options. Do note that the `[file], [class]` segments
are required when using the options listed under them.

    ; Enable detailed logging during type generation.
    debug = true

    [file]
    ; Path where to dump the generated file.
    output_path = "tmp"

    ; Namespace for all generated files.
    namespace = "Panettone"

    ; Comment to apply to every generated file.
    comment = "Example file comments are configured in settings.ini."

    [class]
    nullable = true
    default = null


## Testing

Tests are located in the `tests` directory. PHPUnit is installed separately in the `tools/phpunit` directory.

To test, first use Composer to install PHPUnit then run the test script.

    composer -d tools/phpunit install
    . tools/phpunit/test

## Coverage

Coverage details are gathered during testing in Github and [pushed to Coveralls](https://coveralls.io/github/AlexanderAllen/panettone).
